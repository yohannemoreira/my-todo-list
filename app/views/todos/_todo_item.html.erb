<li class="group py-3 hover:bg-gray-50/50 transition-all duration-200 -mx-6 px-6 rounded-lg">
  <div class="flex items-center gap-3">
    <%= button_to toggle_list_todo_path(list, todo), method: :patch, class: "shrink-0 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-full" do %>
      <% if todo.completed %>
        <svg class="h-6 w-6 text-indigo-600 hover:text-indigo-700 transition-colors" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
      <% else %>
        <svg class="h-6 w-6 text-gray-300 hover:text-indigo-500 transition-colors" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      <% end %>
    <% end %>

    <div class="flex-1 min-w-0">
      <%= link_to list_todo_path(list, todo), class: "block group-hover:text-indigo-600 transition-colors" do %>
        <div class="flex items-center gap-2 mb-0.5">
          <h3 class="text-sm font-medium text-gray-900 <%= 'line-through text-gray-400' if todo.completed %>">
            <%= todo.name %>
          </h3>
          <% if todo.completed %>
            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-200">
              âœ“ Done
            </span>
          <% end %>
        </div>
        <% if todo.description.present? %>
          <p class="text-xs text-gray-500 <%= 'line-through text-gray-400' if todo.completed %> line-clamp-1">
            <%= todo.description %>
          </p>
        <% end %>
      <% end %>
    </div>

    <div class="flex items-center gap-1 shrink-0">
      <%= link_to edit_list_todo_path(list, todo), 
          class: "p-2 rounded-lg text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",
          title: "Edit task" do %>
        <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
        </svg>
      <% end %>
      <%= button_to list_todo_path(list, todo), 
          method: :delete, 
          data: { 
            controller: "delete",
            action: "click->delete#confirm",
            delete_title_value: "Delete Task",
            delete_message_value: "Are you sure you want to delete '#{todo.name}'? This action cannot be undone."
          },
          class: "p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200",
          title: "Delete task" do %>
        <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
        </svg>
      <% end %>
    </div>
  </div>
</li>
